---
import { calculateDuration, formatDuration } from '@/utils'

export interface Props {
  data: Data
}

interface Data {
  company: string
  role: string
  startDate: string | Date
  endDate?: string | Date
  description: string
}

const { data } = Astro.props
const { company, role, startDate, endDate, description } = data
---

<li class='mb-10 ms-4'>
  <span
    class='absolute block w-3 h-3 rounded-full mt-1.5 -start-1.5 border border-gray-900 bg-cBlue'
  ></span>

  <time class='mb-1 text-sm font-normal leading-none text-cAccent'>
    {
      endDate
        ? formatDuration({ startDate, endDate })
        : formatDuration({ startDate })
    } · {calculateDuration(startDate)}.
  </time>

  <h3 class='text-lg font-semibold text-white mt-2 capitalize'>
    {role} − {company}
  </h3>

  <p class='mb-4 text-base font-normal text-cAccent text-pretty'>
    {description}
  </p>
</li>
